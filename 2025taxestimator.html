<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Federal Income Tax Calculator (2025)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* --- Brand Palette & Scoped CSS --- */
        #tax-calculator-root {
            --primary-blue: #2E86DE;
            --navy-blue: #303C5B;
            --black: #1C2436;
            --dark-gray-1: #80889A;
            --light-gray-2: #EEEEF1;
            --primary-bg: #FDFDFD;
            --secondary-bg: #FFFFFF;
            --user-editable-green: #E2FFE2;
            
            font-family: "Roboto", sans-serif; 
            background-color: var(--primary-bg); 
            color: var(--black);
            line-height: 1.5;
        }
        #tax-calculator-root *,
        #tax-calculator-root :after,
        #tax-calculator-root :before { 
            box-sizing: border-box; 
            border: 0 solid #e5e7eb; 
        }
        #tax-calculator-root h1,
        #tax-calculator-root h2,
        #tax-calculator-root h3,
        #tax-calculator-root p { margin: 0; }
        #tax-calculator-root button,
        #tax-calculator-root select,
        #tax-calculator-root input { 
            font-family: inherit; 
            font-size: 100%; 
            margin: 0; 
            padding: 0; 
            line-height: inherit; 
            color: inherit; 
        }
        #tax-calculator-root button { 
            background-color: transparent; 
            cursor: pointer; 
        }
        #tax-calculator-root .hidden { display: none; }
        
        /* --- Custom Component Styles --- */
        #tax-calculator-root .calculator-container {
            max-width: 64rem;
            margin: auto;
            padding: 1rem;
        }
        @media (min-width: 640px) {
            #tax-calculator-root .calculator-container { padding: 1.5rem; }
        }

        #tax-calculator-root .result-bar {
            padding: 1.5rem;
            border-radius: 1rem;
            margin-bottom: 2rem;
            text-align: center;
            transition: background-color 0.3s ease;
            color: white;
        }
        #tax-calculator-root .result-bar-label {
            font-size: 1.125rem;
            font-weight: 500;
        }
        #tax-calculator-root .result-bar-value {
            font-size: 2.5rem;
            font-weight: 700;
            line-height: 1.2;
        }

        #tax-calculator-root .calculator-layout {
            display: grid;
            gap: 2rem;
            grid-template-columns: 1fr;
        }
        @media (min-width: 1024px) {
            #tax-calculator-root .calculator-layout {
                grid-template-columns: 2fr 3fr;
            }
        }

        #tax-calculator-root .panel {
            background-color: var(--secondary-bg);
            padding: 1.5rem;
            border-radius: 1rem;
            border: 1px solid var(--light-gray-2);
        }

        #tax-calculator-root h1 { font-size: 2rem; font-weight: 700; color: var(--navy-blue); margin-bottom: 0.5rem; text-align: center; }
        #tax-calculator-root .header-subtitle { color: var(--dark-gray-1); font-size: 1.125rem; margin-bottom: 2rem; text-align: center;}
        #tax-calculator-root h2 { font-size: 1.5rem; font-weight: 700; color: var(--navy-blue); margin-bottom: 1.5rem; padding-bottom: 0.75rem; border-bottom: 1px solid var(--light-gray-2); }
        #tax-calculator-root h3 { font-size: 1.125rem; font-weight: 700; color: var(--navy-blue); margin-bottom: 0.5rem; }
        
        #tax-calculator-root label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--dark-gray-1);
            font-weight: 500;
            font-size: 0.875rem;
        }
        #tax-calculator-root input[type="number"],
        #tax-calculator-root select {
            width: 100%;
            height: 3rem;
            padding: 0 0.75rem;
            border-radius: 0.5rem;
            border: 1px solid #d1d5db;
            background-color: var(--user-editable-green);
            color: var(--black);
        }
        #tax-calculator-root input[type="number"]:focus,
        #tax-calculator-root select:focus {
            outline: 2px solid var(--primary-blue);
            outline-offset: 2px;
        }

        #tax-calculator-root .input-group {
            display: flex;
        }
        #tax-calculator-root .input-group-addon {
            display: flex;
            align-items: center;
            padding: 0 0.75rem;
            border-radius: 0.5rem 0 0 0.5rem;
            background-color: var(--light-gray-2);
            border: 1px solid #d1d5db;
            border-right: 0;
            color: var(--dark-gray-1);
        }
        #tax-calculator-root .input-group input {
            border-radius: 0 0.5rem 0.5rem 0;
        }

        #tax-calculator-root .deduction-toggle {
            display: flex;
            background-color: var(--light-gray-2);
            border-radius: 0.5rem;
            padding: 0.25rem;
        }
        #tax-calculator-root .deduction-toggle button {
            width: 50%;
            padding: 0.5rem 0;
            border-radius: 0.5rem;
            border: none;
            font-weight: 500;
            transition: all 0.2s ease;
        }
        #tax-calculator-root .deduction-toggle button.active {
            background-color: var(--primary-blue);
            color: white;
        }
        #tax-calculator-root .deduction-toggle button:not(.active) {
            background-color: transparent;
            color: var(--dark-gray-1);
        }

        #tax-calculator-root .result-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
        }
        #tax-calculator-root .result-row.total {
            border-top: 1px solid var(--light-gray-2);
            margin-top: 0.5rem;
            padding-top: 0.75rem;
            font-weight: 700;
        }
        #tax-calculator-root .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }
        #tax-calculator-root .checkbox-group input {
            height: 1rem;
            width: 1rem;
            margin-right: 0.75rem;
        }
    </style>
</head>
<body>
    <div id="tax-calculator-root">
        <div class="calculator-container">
            <!-- Header -->
            <header>
                <h1>Federal Income Tax Calculator</h1>
                <p class="header-subtitle">Estimate your 2025 federal tax bill or refund.</p>
            </header>

            <!-- Result Bar -->
            <div id="result-bar" class="result-bar">
                <p id="result-bar-label" class="result-bar-label">Estimated Taxes Owed</p>
                <p id="result-bar-value" class="result-bar-value">$0.00</p>
            </div>

            <!-- Main Layout Container (CSS Grid) -->
            <div class="calculator-layout">
                <!-- Input Form Column -->
                <div class="panel">
                    <h2>Your Tax Details</h2>
                    <div style="display: grid; gap: 1rem;">
                        <div>
                            <label for="filingStatus">Filing Status</label>
                            <select id="filingStatus">
                                <option value="single">Single</option>
                                <option value="marriedFilingJointly">Married Filing Jointly</option>
                                <option value="headOfHousehold">Head of Household</option>
                                <option value="marriedFilingSeparately">Married Filing Separately</option>
                            </select>
                        </div>
                        <div>
                            <label for="grossIncome">Annual Gross Income</label>
                            <div class="input-group">
                                <span class="input-group-addon">$</span>
                                <input type="number" id="grossIncome" value="100000">
                            </div>
                        </div>
                        
                        <div class="checkbox-group">
                            <input type="checkbox" id="your-age-checkbox">
                            <label for="your-age-checkbox" style="margin-bottom: 0;">You are age 65 or older</label>
                        </div>
                        <div id="spouse-age-checkbox-container" class="checkbox-group hidden">
                            <input type="checkbox" id="spouse-age-checkbox">
                            <label for="spouse-age-checkbox" style="margin-bottom: 0;">Spouse is age 65 or older</label>
                        </div>

                        <div>
                            <label>Deductions</label>
                            <div class="deduction-toggle">
                                <button id="deduction-standard-btn" class="active">Standard</button>
                                <button id="deduction-itemized-btn">Itemized</button>
                            </div>
                            <div id="itemized-deductions-container" class="hidden" style="margin-top: 0.75rem;">
                                <label for="itemizedDeductions">Itemized Deduction Amount</label>
                                <div class="input-group">
                                    <span class="input-group-addon">$</span>
                                    <input type="number" id="itemizedDeductions" value="0">
                                </div>
                            </div>
                        </div>
                         <div style="padding-top: 1rem; margin-top: 1rem; border-top: 1px solid var(--light-gray-2);">
                             <h3 style="margin-bottom: 1rem;">Optional Adjustments</h3>
                             <div style="display: grid; gap: 1rem;">
                                <div>
                                    <label for="retirementContributions">Pre-Tax Retirement Contributions (401k)</label>
                                     <div class="input-group">
                                        <span class="input-group-addon">$</span>
                                        <input type="number" id="retirementContributions" value="0">
                                    </div>
                                </div>
                                <div>
                                    <label for="taxesWithheld">Federal Taxes Already Withheld</label>
                                    <div class="input-group">
                                        <span class="input-group-addon">$</span>
                                        <input type="number" id="taxesWithheld" value="0">
                                    </div>
                                </div>
                                <div>
                                    <label for="taxCredits">Tax Credits</label>
                                    <div class="input-group">
                                        <span class="input-group-addon">$</span>
                                        <input type="number" id="taxCredits" value="0">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Results Display Column -->
                <div class="panel">
                    <h2>Your Estimated Tax Breakdown</h2>
                    <div>
                        <h3 style="margin-bottom: 0.5rem;">Taxable Income</h3>
                        <div id="result-gross-income"></div>
                        <div id="result-total-deductions"></div>
                        <p id="standard-deduction-subtext" class="text-right" style="font-size: 0.75rem; color: var(--dark-gray-1); margin-top: -0.25rem;"></p>
                        <div id="result-taxable-income"></div>
                    </div>
                    <div style="margin-top: 1.5rem; margin-bottom: 1.5rem;">
                        <h3 style="margin-bottom: 0.5rem;">Estimated Federal Taxes</h3>
                        <div id="result-tax-liability"></div>
                        <div id="result-withheld"></div>
                        <div id="result-credits"></div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1.5rem; padding-top: 1rem; border-top: 1px solid var(--light-gray-2); text-align: center;">
                        <div>
                            <p style="color: var(--dark-gray-1); font-size: 0.875rem;">Effective Tax Rate</p>
                            <p id="effective-tax-rate" style="font-size: 1.25rem; font-weight: 600;"></p>
                        </div>
                        <div>
                            <p style="color: var(--dark-gray-1); font-size: 0.875rem;">Marginal Tax Rate</p>
                            <p id="marginal-tax-rate" style="font-size: 1.25rem; font-weight: 600;"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const inputs = {
                filingStatus: document.getElementById("filingStatus"),
                grossIncome: document.getElementById("grossIncome"),
                yourAgeCheckbox: document.getElementById("your-age-checkbox"),
                spouseAgeCheckbox: document.getElementById("spouse-age-checkbox"),
                itemizedDeductions: document.getElementById("itemizedDeductions"),
                retirementContributions: document.getElementById("retirementContributions"),
                taxesWithheld: document.getElementById("taxesWithheld"),
                taxCredits: document.getElementById("taxCredits")
            };
            const buttons = {
                deductionStandard: document.getElementById("deduction-standard-btn"),
                deductionItemized: document.getElementById("deduction-itemized-btn")
            };
            const containers = {
                itemizedDeductions: document.getElementById("itemized-deductions-container"),
                spouseAgeCheckbox: document.getElementById("spouse-age-checkbox-container")
            };
            const results = {
                grossIncome: document.getElementById("result-gross-income"),
                totalDeductions: document.getElementById("result-total-deductions"),
                standardDeductionSubtext: document.getElementById("standard-deduction-subtext"),
                taxableIncome: document.getElementById("result-taxable-income"),
                taxLiability: document.getElementById("result-tax-liability"),
                withheld: document.getElementById("result-withheld"),
                credits: document.getElementById("result-credits"),
                resultBar: document.getElementById("result-bar"),
                resultBarLabel: document.getElementById("result-bar-label"),
                resultBarValue: document.getElementById("result-bar-value"),
                effectiveRate: document.getElementById("effective-tax-rate"),
                marginalRate: document.getElementById("marginal-tax-rate")
            };
            let deductionType = "standard";
            const taxData2025 = {
                standardDeduction: { single: 15e3, marriedFilingJointly: 3e4, marriedFilingSeparately: 15e3, headOfHousehold: 22500 },
                bonusDeduction: { single: 6750, married: 13500, singleThreshold: 75e3, marriedThreshold: 15e4 },
                taxBrackets: {
                    single: [{ rate: .1, min: 0, max: 11925 }, { rate: .12, min: 11925, max: 48475 }, { rate: .22, min: 48475, max: 103350 }, { rate: .24, min: 103350, max: 197300 }, { rate: .32, min: 197300, max: 250525 }, { rate: .35, min: 250525, max: 626350 }, { rate: .37, min: 626350, max: Infinity }],
                    marriedFilingJointly: [{ rate: .1, min: 0, max: 23850 }, { rate: .12, min: 23850, max: 96950 }, { rate: .22, min: 96950, max: 206700 }, { rate: .24, min: 206700, max: 394600 }, { rate: .32, min: 394600, max: 501050 }, { rate: .35, min: 501050, max: 751600 }, { rate: .37, min: 751600, max: Infinity }],
                    marriedFilingSeparately: [{ rate: .1, min: 0, max: 11925 }, { rate: .12, min: 11925, max: 48475 }, { rate: .22, min: 48475, max: 103350 }, { rate: .24, min: 103350, max: 197300 }, { rate: .32, min: 197300, max: 250525 }, { rate: .35, min: 250525, max: 375800 }, { rate: .37, min: 375800, max: Infinity }],
                    headOfHousehold: [{ rate: .1, min: 0, max: 17e3 }, { rate: .12, min: 17e3, max: 64850 }, { rate: .22, min: 64850, max: 103350 }, { rate: .24, min: 103350, max: 197300 }, { rate: .32, min: 197300, max: 250500 }, { rate: .35, min: 250500, max: 626350 }, { rate: .37, min: 626350, max: Infinity }]
                }
            };
            const formatCurrency = e => Math.abs(e).toLocaleString("en-US", { style: "currency", currency: "USD" });
            const createResultRow = (e, t, { isNegative: n = !1, isTotal: o = !1 } = {}) => { const a = n ? "-" : ""; return `<div class="result-row ${o?"total":""}"><p>${e}</p><p>${a}${formatCurrency(t)}</p></div>` };
            const calculateAndRender = () => {
                const t = inputs.filingStatus.value,
                    n = Number(inputs.grossIncome.value) || 0,
                    o = inputs.yourAgeCheckbox.checked,
                    a = inputs.spouseAgeCheckbox.checked,
                    d = Number(inputs.itemizedDeductions.value) || 0,
                    i = Number(inputs.retirementContributions.value) || 0,
                    s = Number(inputs.taxesWithheld.value) || 0,
                    r = Number(inputs.taxCredits.value) || 0;
                containers.spouseAgeCheckbox.style.display = "marriedFilingJointly" === t ? "flex" : "none";
                let l = taxData2025.standardDeduction[t];
                let c = 0;
                "single" === t || "headOfHousehold" === t ? o && n < taxData2025.bonusDeduction.singleThreshold && (c = taxData2025.bonusDeduction.single) : "marriedFilingJointly" === t ? n < taxData2025.bonusDeduction.marriedThreshold && (o && a ? c = taxData2025.bonusDeduction.married : (o || a) && (c = taxData2025.bonusDeduction.single)) : "marriedFilingSeparately" === t && o && n < taxData2025.bonusDeduction.singleThreshold && (c = taxData2025.bonusDeduction.single), l += c;
                const u = ("standard" === deductionType ? l : d) + i,
                    m = Math.max(0, n - u),
                    p = taxData2025.taxBrackets[t];
                let h = 0, f = m, g = 0;
                for (const b of p) { if (f <= 0) break; const x = Math.min(f, b.max - b.min); h += x * b.rate, f -= x, x > 0 && (g = b.rate) }
                const y = h - s - r,
                    v = n > 0 ? h / n * 100 : 0,
                    k = y < 0;
                results.grossIncome.innerHTML = createResultRow("Gross Income", n), results.totalDeductions.innerHTML = createResultRow("Total Deductions", u, { isNegative: !0 }), results.standardDeductionSubtext.textContent = "standard" === deductionType ? `Your standard deduction: ${formatCurrency(l)}` : "", results.taxableIncome.innerHTML = createResultRow("Taxable Income", m, { isTotal: !0 }), results.taxLiability.innerHTML = createResultRow("Taxes Before Adjustments", h), results.withheld.innerHTML = createResultRow("Taxes Withheld", s, { isNegative: !0 }), results.credits.innerHTML = createResultRow("Tax Credits", r, { isNegative: !0 });
                results.resultBarLabel.textContent = k ? "Estimated Refund" : "Estimated Taxes Owed";
                results.resultBarValue.textContent = formatCurrency(y);
                results.resultBar.style.backgroundColor = k ? "var(--primary-blue)" : "var(--navy-blue)";
                results.effectiveRate.textContent = `${v.toFixed(2)}%`, results.marginalRate.textContent = `${(100*g).toFixed(0)}%`
            };
            Object.values(inputs).forEach(e => { e.addEventListener("input", calculateAndRender) }), buttons.deductionStandard.addEventListener("click", () => { deductionType = "standard", buttons.deductionStandard.classList.add("active"), buttons.deductionItemized.classList.remove("active"), containers.itemizedDeductions.classList.add("hidden"), calculateAndRender() }), buttons.deductionItemized.addEventListener("click", () => { deductionType = "itemized", buttons.deductionItemized.classList.add("active"), buttons.deductionStandard.classList.remove("active"), containers.itemizedDeductions.classList.remove("hidden"), calculateAndRender() }), calculateAndRender()
        });
    </script>
</body>
</html>
